webpackJsonp([4],{118:function(t,e,a){function o(t){a(169)}var i=a(0)(a(178),a(159),o,"data-v-549b24f1",null);t.exports=i.exports},147:function(t,e,a){e=t.exports=a(3)(!1),e.push([t.i,".detail-page[data-v-549b24f1]{background:#fff;-webkit-box-flex:1;-ms-flex:1;flex:1}.detail-page .color-green[data-v-549b24f1]{color:#1abc9c}.detail-page .content[data-v-549b24f1]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:0 10px}.detail-page .content .title[data-v-549b24f1]{padding:20px 0;border-bottom:1px solid #ececec;margin-bottom:15px}.detail-page .content .title .title-text[data-v-549b24f1]{text-align:center;font-size:16px;font-weight:600;line-height:22px}.detail-page .content .title .show-item[data-v-549b24f1]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px;color:#888;margin-top:10px}.detail-page .content .title .show-item .item[data-v-549b24f1]:first-child{margin-right:10px}.detail-page .content .user-info[data-v-549b24f1]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:10px 0}.detail-page .content .user-info .tag[data-v-549b24f1]{font-size:14px;color:#888;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.detail-page .content .user-avator[data-v-549b24f1]{width:50px;height:50px;border-radius:25px;border:1px solid #ececec;background-position:50%;background-repeat:no-repeat;background-size:cover}.detail-page .content .user-name[data-v-549b24f1]{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:6px}.detail-page .content .user-name .name[data-v-549b24f1]{color:#1abc9c;font-size:12px;font-weight:600;margin-bottom:4px}.detail-page .content .user-name .time[data-v-549b24f1]{color:#666;margin-top:8px}.detail-page .content .comment[data-v-549b24f1]{margin:0 -10px}.detail-page .content .comment .comment-head[data-v-549b24f1]{border-top:1px solid #ececec;border-bottom:1px solid #ececec;border-left:6px solid #1abc9c;padding:10px;font-size:14px;color:#333;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.detail-page .content .comment .comment-list[data-v-549b24f1]{padding:0 10px}.detail-page .content .comment .comment-list .list[data-v-549b24f1]{padding:15px 0;border-bottom:1px solid #ececec}.detail-page .content .comment .comment-list .user-top[data-v-549b24f1]{display:-webkit-box;display:-ms-flexbox;display:flex}.detail-page .content .comment .comment-list .avator[data-v-549b24f1]{width:40px;height:40px;border-radius:20px;background-position:50%;background-repeat:no-repeat;background-size:cover;border:1px solid #ececec}.detail-page .content .comment .comment-list .info[data-v-549b24f1]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:10px}.detail-page .content .comment .comment-list .nick-name[data-v-549b24f1]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:14px;color:#333;padding-left:10px}.detail-page .content .comment .comment-list .nick-name .time[data-v-549b24f1]{color:#888;font-size:12px;margin-top:6px}.detail-page .content .comment .comment-list .markdown-body[data-v-549b24f1]{font-size:15px;margin-top:10px}.detail-page .content .comment .comment-list .set[data-v-549b24f1]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px}.detail-page .content .comment .comment-list .set .left-fill[data-v-549b24f1]{-webkit-box-flex:1;-ms-flex:1;flex:1}.detail-page .content .comment .comment-list .set .icon[data-v-549b24f1]{color:#666}.detail-page .content .comment .comment-list .set .icon.color-green[data-v-549b24f1]{color:#1abc9c}.detail-page .content .comment_input[data-v-549b24f1]{margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;height:39px}.detail-page .content .comment_input input[type=text][data-v-549b24f1]{-webkit-box-flex:1;-ms-flex:1;flex:1;border:1px solid #ccc;border-radius:4px;padding:0 6px}.detail-page .content .comment_input button[data-v-549b24f1]{height:100%;width:80px;background:#1abc9c;color:#fff;border-radius:4px;margin-left:10px}.detail-page .comment-box[data-v-549b24f1]{width:100%;position:absolute;bottom:0;left:0;z-index:2;background:#fff;padding:20px 10px;border-top:2px solid #1abc9c}.detail-page .comment-box .comment-t[data-v-549b24f1]{display:block;border-radius:4px;border:1px solid #ccc;width:100%;height:120px;overflow:hidden;padding:10px}.detail-page .comment-box textarea[data-v-549b24f1]{padding:0;margin:0;outline:none;resize:none;width:100%;height:100%;border:none}.detail-page .comment-box button[data-v-549b24f1]{width:100px;height:39px;color:#fff;background:#1abc9c;border-radius:4px;margin-top:20px;float:right}",""])},159:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{appear:"",name:"slide-fade"},on:{leave:t.leave}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loadShow,expression:"loadShow"}],staticClass:"detail-page"},[t.isEmpty(t.page)?t._e():a("div",{staticClass:"content scroll"},[a("div",{staticClass:"title",on:{dblclick:t.dblclick}},[a("div",{staticClass:"title-text"},[t._v(t._s(t.page.title))]),t._v(" "),a("div",{staticClass:"show-item"},[a("div",{staticClass:"item"},[a("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",[t._v(t._s(t.page.visit_count))])]),t._v(" "),a("div",{staticClass:"item"},[a("i",{staticClass:"fa fa-commenting-o",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",[t._v(t._s(t.page.reply_count))])]),t._v("∫\n                 ")])]),t._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-avator",style:{backgroundImage:"url("+t.getauthor(t.page).avatar_url+")"},on:{click:function(e){t.gotoUser(t.page)}}}),t._v(" "),a("div",{staticClass:"user-name"},[a("a",{staticClass:"name"},[t._v(t._s(t.getauthor(t.page).loginname))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(t.getTime(t.page.create_at)))])]),t._v(" "),a("div",{staticClass:"tag"},[a("span",[t._v("#楼主#")])])]),t._v(" "),a("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.page.content)}}),t._v(" "),a("div",{staticClass:"comment"},[a("div",{staticClass:"comment-head"},[a("div",[a("span",[t._v("共(")]),a("span",{staticClass:"color-green"},[t._v(t._s(t.page.replies.length))]),a("span",[t._v(")条回复")])]),t._v(" "),a("div",{on:{click:function(e){t.showComment()}}},[a("span",{staticClass:"color-green"},[t._v("点击评论")])])]),t._v(" "),a("ul",{staticClass:"comment-list"},t._l(t.page.replies,function(e){return a("li",{key:e.create_at,staticClass:"list"},[a("div",{staticClass:"user-top"},[a("div",{staticClass:"avator",style:{backgroundImage:"url("+t.getauthor(e).avatar_url+")"}}),t._v(" "),a("div",{staticClass:"nick-name"},[a("div",{staticClass:"color-green"},[t._v(t._s(e.author.loginname))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(t.getTime(e.create_at)))])])]),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),a("div",{staticClass:"set"},[a("div",{staticClass:"left-fill"}),t._v(" "),a("div",{staticClass:"icon",class:e.is_uped?"color-green":"",on:{click:function(a){t.goodUp(e)}}},[a("i",{staticClass:"fa fa-thumbs-o-up",attrs:{"aria-hidden":"true"}}),t._v(" "),a("span",[t._v(t._s(e.ups.length))])])])])])}))])]),t._v(" "),a("d-mask",{attrs:{show:t.commentShow,background:"rgba(0,0,0,.2)",close:t.closeComment}},[a("div",{staticClass:"comment-box"},[a("div",{staticClass:"comment-t"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentWords,expression:"commentWords"}],domProps:{value:t.commentWords},on:{input:function(e){e.target.composing||(t.commentWords=e.target.value)}}})]),t._v(" "),a("button",{on:{click:function(e){t.commentHandel()}}},[t._v("发表")])])])],1)])},staticRenderFns:[]}},169:function(t,e,a){var o=a(147);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(4)("8c7c2292",o,!0,{})},178:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(14),n=o(i),s=a(6),c=a(18),l=o(c),d=a(16),r=o(d);e.default={data:function(){return(0,n.default)({},(0,s.mapActions)({getDetail:l.default.GET_DETAIL,goodUps:l.default.GOOD_UP,clearDetail:l.default.CLEAR_DETAIL,createComment:l.default.CREATE_COMMENT}),{loadShow:!1,commentShow:!1,commentWords:""})},computed:(0,s.mapState)({page:function(t){return t.detail.detail},Access_Token:function(t){return t.user.Access_Token}}),beforeDestroy:function(){this.clearDetail(),this.showTimeout&&clearTimeout(this.showTimeout)},beforeMount:function(){},mounted:function(){this.getDetailData()},methods:{leave:function(t,e){e()},dblclick:function(){},getDetailData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init",a=this.$route.params;this.getDetail({id:a.id,accesstoken:this.Access_Token,status:e}).always(function(){t.showTimeout=setTimeout(function(){return t.loadShow=!0},200)})},getauthor:function(t){return t.author||{}},isEmpty:function(t){for(var e in t)return!1;return!0},getTime:function(t){return getFormatTime(t)},showComment:function(){this.commentShow=!0},back:function(){this.$router.back()},closeComment:function(){this.commentShow=!1},goodUp:function(t){if(!this.Access_Token)return this.$router.push({name:"login",params:{srouce:"detail"}});this.goodUps({accesstoken:this.Access_Token,id:t.id})},gotoUser:function(t){var e=t.author;this.$router.push({name:"user",params:{id:e.loginname}})},commentHandel:function(){var t=this;return this.Access_Token?this.commentWords.trim()?void this.createComment({id:this.page.id,content:this.commentWords,accesstoken:this.Access_Token,replieId:"",cb:function(){t.getDetailData("reload"),t.commentShow=!1}}):alert("请输入评论！"):void confirm("您还没有登录,是否去登录？",function(){return t.$router.push({name:"login",params:{srouce:"detail"}})})}},components:{dMask:r.default}}}});